# 494. Target Sum

You are given an integer array nums and an integer target.

You want to build an expression out of nums by adding one of the symbols '+' and '-' before each integer in nums and then concatenate all the integers.

For example, if nums = [2, 1], you can add a '+' before 2 and a '-' before 1 and concatenate them to build the expression "+2-1".
Return the number of different expressions that you can build, which evaluates to target.

 

Example 1:

Input: nums = [1,1,1,1,1], target = 3
Output: 5
Explanation: There are 5 ways to assign symbols to make the sum of nums be target 3.
-1 + 1 + 1 + 1 + 1 = 3
+1 - 1 + 1 + 1 + 1 = 3
+1 + 1 - 1 + 1 + 1 = 3
+1 + 1 + 1 - 1 + 1 = 3
+1 + 1 + 1 + 1 - 1 = 3
Example 2:

Input: nums = [1], target = 1
Output: 1
 

Constraints:

1 <= nums.length <= 20
0 <= nums[i] <= 1000
0 <= sum(nums[i]) <= 1000
-1000 <= target <= 1000



```python

class Solution(object):
    def findTargetSumWays(self, nums, target):
        """
        :type nums: List[int]
        :type target: int
        :rtype: int
        """

        memo = {}

        def dfs(idx,sums):

            if idx == len(nums):
                return 1 if sums == target else 0

            if (idx,sums) in memo:
                return memo[(idx,sums)]

            add = dfs(idx+1,sums + nums[idx])
            sub = dfs(idx+1,sums-nums[idx])
            
            memo[(idx,sums)] = add + sub

            return memo[(idx,sums)]

        return dfs(0,0)
```

æ„å»ºäº†ä¸€ä¸ª+ã€-çš„æ•°ä»è€Œè¿›è¡Œä¸€æ¬¡æ·±åº¦éå†ï¼š
- æ·±åº¦éå†æ˜¯ä¸ºäº†å¿«é€Ÿåˆ°è¾¾é¢˜ç›®çš„è¦æ±‚ï¼Œåˆ°è¾¾æ•°ç»„çš„åº•éƒ¨ï¼Œæ¥è·å¾—ç»“æœ
- å¯¹äºè¿™ä¸ªéå†çš„æœ‰ä¸ªé‡è¦ç†è§£æ˜¯ï¼š
    - add ä¸ºä¸€ä¸ªbrachï¼Œ subtractionä¸ºä¸€ä¸ªbrach
    - æ¯æ¬¡çš„éå†è·¯å¾„ä¸ºï¼Œéƒ½æ˜¯åˆ°ä¸€ä¸ªåˆ†æ”¯åº•éƒ¨ï¼Œ å†è¿”å›åŸå…ˆçš„èŠ‚ç‚¹ï¼Œå»éå†ä¸€ä¸ªåˆ†æ”¯
- å¯¹äºè¿™ä¸ªçš„ç®—æ³•æƒ³è±¡æ˜¯***æ­£å‘åˆ°åº•éƒ¨***ï¼Œ å†é€å±‚ç½‘ä¸Šçš„è¿”å›ç»“æœ

å†™è¿™ä¸ªä»£ç çš„æ—¶å€™ï¼Œ å°±è¦æ€è€ƒå¦‚ä½•èµ°åˆ°åº•éƒ¨ï¼Œ å¹¶è·å¾—åˆ¤æ–­çš„ç»“æœ


âœ… ä½ çš„ç†è§£éå¸¸å‡†ç¡®ï¼ä½ å·²ç»æŒæ¡äº† **DFSï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰** åœ¨è¿™ç±»â€œåŠ å‡ç»„åˆå‹â€é¢˜ç›®ä¸­çš„æ ¸å¿ƒæ€æƒ³å’Œæ‰§è¡Œé¡ºåºã€‚  
æˆ‘æ¥å¸®ä½ ç¨å¾®æ•´ç†ä¸€ä¸‹ï¼Œè®©ä½ çš„ç†è§£æ›´ç³»ç»Ÿã€æ›´æœ‰é€»è¾‘æ„Ÿï¼š

---

## âœ… **1. ä¸ºä»€ä¹ˆå«â€œæ·±åº¦ä¼˜å…ˆâ€ï¼Ÿ**
- å› ä¸º**æ¯èµ°ä¸€æ¡è·¯å¾„**ï¼Œç›´æ¥ä»æ ¹èŠ‚ç‚¹èµ°åˆ°**å¶å­èŠ‚ç‚¹ï¼ˆæ•°ç»„æœ«å°¾ï¼‰**
- åªæœ‰èµ°åˆ°åº•éƒ¨ï¼ˆ`idx == len(nums)`ï¼‰æ‰èƒ½åˆ¤æ–­ï¼šå½“å‰è¿™æ¡è·¯å¾„æ˜¯å¦æ»¡è¶³ `sum == target`
- ä¹‹åæ‰ä¼š**å›æº¯**ï¼Œèµ°å¦ä¸€æ¡åˆ†æ”¯

---

## âœ… **2. äºŒå‰æ ‘æ€è·¯ï¼ˆæ¯ä¸ªæ•°å­—æœ‰æ­£è´Ÿä¸¤ç§é€‰æ‹©ï¼‰**
- ä½ å¯ä»¥æŠŠæ•´ä¸ªæœç´¢è¿‡ç¨‹æƒ³è±¡æˆä¸€æ£µ **äºŒå‰æ ‘**ï¼š
  - å·¦å­æ ‘æ˜¯ **â€œåŠ â€**
  - å³å­æ ‘æ˜¯ **â€œå‡â€**
- æ¯æ¡è·¯å¾„ä»£è¡¨ä¸€ç»„ `+ -` çš„é€‰æ‹©ï¼Œèµ°åˆ°åº•æ‰çŸ¥é“è¿™ä¸€ç»„å¯¹ä¸å¯¹

```
                  dfs(0, 0)
                /           \
         dfs(1, +nums[0])   dfs(1, -nums[0])
            /      \             /      \
      dfs(2, ..) dfs(2, ..) dfs(2, ..) dfs(2, ..)
```

---

## âœ… **3. ä½ æåˆ°çš„å…³é”®ç‚¹ï¼ˆâœ”ï¸å…¨å¯¹ï¼ï¼‰**
- **â€œadd ä¸ºä¸€æ¡ branchï¼Œsubtraction ä¸ºä¸€æ¡ branchâ€** âœ”ï¸
- **â€œæ¯æ¬¡éƒ½åˆ°åº•éƒ¨ï¼Œå†å¾€å›èµ°â€** âœ”ï¸
  - è¿™æ˜¯ç»å…¸çš„â€œèµ°åˆ°åº•ã€å›å¤´å†èµ°å¦ä¸€è¾¹â€çš„æ·±åº¦éå†æ¨¡å¼
- **â€œåƒæ­£å‘åˆ°åº•ï¼Œç„¶åé€å±‚ç½‘ä¸Šè¿”å›ç»“æœâ€** âœ”ï¸
  - å®Œå…¨å°±æ˜¯ **å›æº¯æ³•çš„å¥—è·¯**ï¼Œä¸€è¾¹é€’å½’ä¸€è¾¹å›é€€

---

## âœ… **4. å¸®ä½ é…ä¸€å¼ æ–‡å­—ç‰ˆæ‰§è¡Œæµç¨‹ï¼š**
``` 
dfs(0, 0)
â”‚
â”œâ”€â”€ dfs(1, +nums[0])
â”‚     â”‚
â”‚     â”œâ”€â”€ dfs(2, +nums[0] + nums[1])
â”‚     â”‚      â”œâ”€â”€ ...
â”‚     â”‚      â””â”€â”€ ...
â”‚     â””â”€â”€ dfs(2, +nums[0] - nums[1])
â”‚            â”œâ”€â”€ ...
â”‚            â””â”€â”€ ...
â””â”€â”€ dfs(1, -nums[0])
      â”‚
      â”œâ”€â”€ dfs(2, -nums[0] + nums[1])
      â””â”€â”€ dfs(2, -nums[0] - nums[1])
```
**âœ… æ¯èµ°ä¸€æ¡åˆ°å¤´äº†ï¼Œæ‰èƒ½â€œå›å¤´â€æ¢å¦ä¸€ä¸ªåˆ†æ”¯èµ°ã€‚**

---

## âœ… **5. æ€»ç»“æˆä¸€å¥è¯ï¼š**
> è¿™é“é¢˜æœ¬è´¨æ˜¯**åœ¨ä¸€æ£µäºŒå‰é€‰æ‹©æ ‘é‡Œï¼Œåšæ·±åº¦ä¼˜å…ˆéå†ï¼Œèµ°åˆ°åº•éƒ¨çœ‹ç­”æ¡ˆï¼Œèµ°ä¸é€šå°±å›å¤´æ¢è·¯ã€‚**





- ğŸŸ¢ **â€œèµ°åˆ°åº•â€**ï¼šå¿…é¡»æœ‰æ¸…æ¥šçš„ base caseï¼Œåªæœ‰åº•éƒ¨åˆ¤æ–­æ‰æœ‰æ„ä¹‰
- ğŸŸ¢ **â€œèµ°ä¸¤è¾¹â€**ï¼šæ¯ä¸€å±‚çš„é€‰æ‹©æ¸…æ¥šæ˜ç¡®
- ğŸŸ¢ **â€œç´¯åŠ ç­”æ¡ˆâ€**ï¼šä»åº•éƒ¨å›æ¥ï¼Œä¸€å±‚ä¸€å±‚å¾€ä¸Šç´¯ç§¯

---

å¦‚æœä½ ä¹‹åå†™åˆ«çš„é€’å½’/DFSé¢˜ï¼Œæ‹¿è¿™ä¸ªæ€è·¯ä¸€å¥—ä¸€å¥—çš„ï¼Œç»å¯¹å¥½ä½¿ï¼  
å¦‚æœä½ æƒ³å†å¤šç»ƒç±»ä¼¼çš„é¢˜å‹ï¼Œæˆ‘ç»™ä½ åˆ—å‡ºæ¥ï¼